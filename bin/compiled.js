'use strict';var d=!0,f=null,g,h=this;function k(a,b){var c=a.split("."),e=h;!(c[0]in e)&&e.execScript&&e.execScript("var "+c[0]);for(var n;c.length&&(n=c.shift());)!c.length&&void 0!==b?e[n]=b:e=e[n]?e[n]:e[n]={}}function l(a){var b=m;function c(){}c.prototype=b.prototype;a.q=b.prototype;a.prototype=new c};function p(a){this.length=a.length||a;for(var b=0;b<this.length;b++)this[b]=a[b]||0}p.prototype.BYTES_PER_ELEMENT=8;p.prototype.set=function(a,b){b=b||0;for(var c=0;c<a.length&&b+c<this.length;c++)this[b+c]=a[c]};p.prototype.toString=Array.prototype.join;if("undefined"==typeof Float64Array){try{p.BYTES_PER_ELEMENT=8}catch(q){}p.prototype.BYTES_PER_ELEMENT=p.prototype.BYTES_PER_ELEMENT;p.prototype.set=p.prototype.set;p.prototype.toString=p.prototype.toString;k("Float64Array",p)};function r(a){this.length=a.length||a;for(var b=0;b<this.length;b++)this[b]=a[b]||0}r.prototype.BYTES_PER_ELEMENT=4;r.prototype.set=function(a,b){b=b||0;for(var c=0;c<a.length&&b+c<this.length;c++)this[b+c]=a[c]};r.prototype.toString=Array.prototype.join;"undefined"==typeof Float32Array&&(r.BYTES_PER_ELEMENT=4,r.prototype.BYTES_PER_ELEMENT=r.prototype.BYTES_PER_ELEMENT,r.prototype.set=r.prototype.set,r.prototype.toString=r.prototype.toString,k("Float32Array",r));new Float64Array(3);new Float64Array(3);new Float64Array(4);new Float64Array(4);new Float64Array(4);new Float64Array(16);function s(){}s.prototype.create=function(a){var b=f;try{b=a.getContext("experimental-webgl",{premultipliedAlpha:!1,alpha:!1})}catch(c){}b===f&&alert("Missing context");return b};function t(){this.m=new s;this.g=[];this.f=f}t.h=function(){return t.i?t.i:t.i=new t};function u(){return t.h().f}t.prototype.create=function(a){a=this.m.create(a);this.g[this.g.length]=a;this.f==f&&(this.f=a);return a};function m(){this.data=f;this.height=this.width=0;this.k=!1;this.e=f}g=m.prototype;g.a=function(a){var b=this;this.data.onload=function(){v(b)};this.data.src=a};g.j=function(a){window.console.log('Resource "'+a+'" not found.')};g.d=function(){};function v(a){a.data.complete==d&&a.e!=f&&a.e(a)}function w(a,b){a.e=b}g.b=function(){return this.height};g.c=function(){return this.width};g.getData=function(){return this.data};function x(){m.call(this);this.data=new Image}l(x);x.prototype.a=function(a){this.data.onload=this.d.bind(this,a);this.data.onerror=this.j.bind(this,a);this.data.src=a};x.prototype.d=function(){var a=this.height;this.width=this.width;this.height=a;v(this);this.k=d};function y(){m.call(this);this.data=document.createElement("video");this.autoplay=d}l(y);y.prototype.a=function(a){this.data.p="auto";this.data.addEventListener("canplaythrough",this.d.bind(this,a),d);this.data.addEventListener("error",this.j.bind(this,a),d);this.data.src=a};y.prototype.d=function(){var a=this.height;this.width=this.width;this.height=a;v(this);this.k=d;this.autoplay&&this.play()};y.prototype.play=function(){this.data.play()};function z(a){this.id=a.createTexture();this.source=f}g=z.prototype;g.bind=function(){u().bindTexture(3553,this.id)};g.create=function(a,b){var c=u();A(this);var e=this.source;e.width=a;e.height=b;this.bind();e=u();e.texParameteri(3553,10241,9985);e.texParameteri(3553,10240,9729);this.source.c()==this.source.b()&&u().generateMipmap(3553);c.texImage2D(3553,0,6408,a,b,0,6408,5121,f);u().bindTexture(3553,f)};
function A(a,b){if(void 0!=b){var c=/(?:\.([^.]+))?$/.exec(b)[1];if(("ogg"==c||"webm"==c?d:!1)==d)a.source=new y}a.source==f&&(a.source=new x)}g.fill=function(a){var b=u();this.bind();b.texImage2D(3553,0,6408,6408,5121,a)};g.a=function(a){var b=this;A(this,a);this.source.a(a);w(this.source,function(){b.fill(b.source.getData());u().bindTexture(3553,f)})};g.b=function(){return this.source.b()};g.c=function(){return this.source.c()};function B(a){this.n=a}B.prototype.create=function(){return new z(this.n)};function C(a){this.l=t.h().create(a);this.o=new B(this.l)}C.prototype.b=function(){return 0};C.prototype.c=function(){return 0};window.application=function(){var a;a=(new C(document.getElementById("test"))).o;a.create().a("data/magpie.png");a=a.create();a.a("data/bunny.ogg");a.source.play()};
